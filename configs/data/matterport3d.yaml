_target_: src.data.datamodule.DataModule

train_dataset:
  _target_: src.data.matterport3d.dataset.Matterport3DDataset
  _partial_: true
  split: train
  data_dir: /datasets/matterport3d/matterport_3d
  caption_dir: /datasets/openvocab-3d-captions
  caption_subset: caption.osprey.matterport3d
  segment_dir: /datasets/openvocab-3d-captions
  segment_subset: segment.sam2.matterport3d
  object_num_max: 300
  base_class_idx: []
  novel_class_idx: []
  ignore_class_idx: [19]
  ignore_label: -100
  repeat: 4
  transforms: ${data.train_transforms}

val_datasets:
  - _target_: src.data.matterport3d.dataset.Matterport3DDataset
    _partial_: true
    data_dir: ${data.train_dataset.data_dir}
    base_class_idx: ${data.train_dataset.base_class_idx}
    ignore_class_idx: ${data.train_dataset.ignore_class_idx}
    novel_class_idx: ${data.train_dataset.novel_class_idx}
    ignore_label: ${data.train_dataset.ignore_label}
    split: val
    log_postfix: matterport3d
    transforms: ${data.val_transforms}

collate_fn:
  _target_: src.data.collate.point_collate_fn_with_masks
  _partial_: true
  grid_size: 0.02

batch_size: 4
num_workers: 2

checkpoint_monitor: "val_matterport3d/miou_all"
